<div *ngIf="formulario">
    <h1>Nuevo libro</h1>
    <div class="mt-5 alert alert-danger" *ngIf="errors">
        {{errors|json}}
        {{formulario.value|json}}<!--Mostrar datos de forma reactiva-->
    </div>
    <form class="mt-5" [formGroup]="formulario" (ngSubmit)="save()">
        <div class="mb-2">
            <label for="title">Título</label>
            <input id="title" type="text" placeholder="Título" class="form-control" formControlName="titulo">
            <div class="invalid-feedback">
                <ng-container *ngIf="controlHasError('titulo','required')">
                    Este Campo es obligatorio.
                </ng-container>
                <ng-container *ngIf="controlHasError('titulo','minlength')">
                    Debe tener al menos 3 caracteres.</ng-container>
                <ng-container *ngIf="controlHasError('titulo','maxlength')">
                    Debe tener 100 caratecteres como máximo.</ng-container>
            </div>
        </div>
        <div class="mb-2">
            <label for="slug">Slug</label>
            <input id="slug" type="text" placeholder="Slug" class="form-control" formControlName="slug">
            <div class="invalid-feedback">
                <ng-container *ngIf="controlHasError('slug','required')">
                    Este Campo es obligatorio.
                </ng-container>
                <ng-container *ngIf="controlHasError('slug','pattern')">
                    El formato es invalido.
                </ng-container>
            </div>
        </div>
        <div class="mb-2">
            <label for="descripcion">Descripción</label>
            <textarea id="descripcion" placeholder="Descripción" class="form-control"
                formControlName="descripcion"></textarea>
            <div class="invalid-feedback">
                <ng-container *ngIf="controlHasError('descripcion','required')">
                    Este Campo es obligatorio.
                </ng-container>
            </div>
        </div>
        <div class="mb-2">
            <label for="precio">Precio</label>
            <input id="precio" type="number" step="0.01" placeholder="Precio" class="form-control"
                formControlName="precio">
            <div class="invalid-feedback">
                <ng-container *ngIf="controlHasError('precio','required')">
                    Este Campo es obligatorio.
                </ng-container>
                <ng-container *ngIf="controlHasError('precio','min')">
                    El Valor debe ser cero(0) como minimo
                </ng-container>
            </div>
        </div>
        <div class="text-end">
            <button class="btn btn-light" routerLink="/">
                Cancelar
            </button>
            <button class="btn btn-primary ms-2">
                Crear libro
            </button>
        </div>
    </form>
</div>